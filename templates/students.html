{% extends "base.html" %}
{% set active_page = "students" %}

{% block title %}Student Management{% endblock %}

{% block content %}
<section class="section-content">
    <div class="section-header">
        <h2>Student Management</h2>
        <div class="action-buttons">
            <button id="add-student-btn" class="btn-primary">
                <i class="fas fa-plus"></i> Add Student
            </button>
            <button id="export-students-btn" class="btn-secondary">
                <i class="fas fa-file-export"></i> Export
            </button>
        </div>
    </div>

    <div class="filters">
        <div class="filter-group">
            <label for="department-filter">Department:</label>
            <select id="department-filter">
                <option value="">All Departments</option>
                <!-- Filled by JavaScript -->
            </select>
        </div>
        <div class="filter-group">
            <label for="status-filter">Status:</label>
            <select id="status-filter">
                <option value="">All Students</option>
                <option value="active">Active</option>
                <option value="inactive">Inactive</option>
            </select>
        </div>
        <button id="reset-filters" class="btn-outline">Reset Filters</button>
    </div>

    <div class="table-container">
        <table id="students-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Department</th>
                    <th>Enrollment Date</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <!-- Filled by JavaScript -->
            </tbody>
        </table>
        <div class="pagination">
            <button id="prev-page" disabled><i class="fas fa-chevron-left"></i></button>
            <span id="page-info">Page 1 of 1</span>
            <button id="next-page" disabled><i class="fas fa-chevron-right"></i></button>
        </div>
    </div>
</section>

<!-- Student Modal -->
<div id="student-modal" class="modal">
    <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2 id="modal-title">Add New Student</h2>
        <form id="student-form">
            <input type="hidden" id="student-id">
            <div class="form-row">
                <div class="form-group">
                    <label for="first-name">First Name</label>
                    <input type="text" id="first-name" required>
                </div>
                <div class="form-group">
                    <label for="last-name">Last Name</label>
                    <input type="text" id="last-name" required>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" required>
                </div>
                <div class="form-group">
                    <label for="phone">Phone</label>
                    <input type="tel" id="phone">
                </div>
            </div>
            <div class="form-group">
                <label for="address">Address</label>
                <textarea id="address" rows="2"></textarea>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="dob">Date of Birth</label>
                    <input type="date" id="dob">
                </div>
                <div class="form-group">
                    <label for="gender">Gender</label>
                    <select id="gender">
                        <option value="">Select</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="department">Department</label>
                    <select id="department">
                        <option value="">Select Department</option>
                        <!-- Filled by JavaScript -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="enrollment-date">Enrollment Date</label>
                    <input type="date" id="enrollment-date">
                </div>
            </div>
            <div class="form-actions">
                <button type="button" class="btn-outline" id="cancel-student">Cancel</button>
                <button type="submit" class="btn-primary">Save Student</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize student management functionality
    initStudentManagement();
});
</script>
{% endblock %}